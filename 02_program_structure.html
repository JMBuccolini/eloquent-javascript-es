<!DOCTYPE html><html><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Program Structure :: Eloquent JavaScript</title>
  <link rel="stylesheet" href="css/ejs.css"><script>
      var page = {"type":"chapter","number":2}</script></head>

<body><article>
<nav><a href="01_values.html" title="previous chapter" aria-label="previous chapter">◂</a>&nbsp;<a href="index.html" title="cover" aria-label="cover">●</a>&nbsp;<a href="03_functions.html" title="next chapter" aria-label="next chapter">▸</a>&nbsp;<button class="help" title="help" aria-label="help"><strong>?</strong></button>
</nav>

<h1>Program Structure</h1>

<blockquote>

<p><a class="p_ident" id="p-J/zCYrllfQ" href="#p-J/zCYrllfQ" tabindex="-1" role="presentation"></a>And my heart glows bright red under my filmy, translucent skin and they have to administer 10cc of JavaScript to get me to come back. (I respond well to toxins in the blood.) Man, that stuff will kick the peaches right out your gills!</p>

<footer>_why, <cite>Why's (Poignant) Guide to Ruby</cite></footer>

</blockquote><figure class="chapter framed"><img src="images/chapter_picture_2.jpg" alt="Illustration showing a number of tentacles holding chess pieces"></figure>

<p><a class="p_ident" id="p-D1mgO0fMBD" href="#p-D1mgO0fMBD" tabindex="-1" role="presentation"></a>In this chapter, we will start to do things that can actually be called <em>programming</em>. We will expand our command of the JavaScript language beyond the nouns and sentence fragments we’ve seen so far to the point where we can express meaningful prose.</p>

<h2><a class="h_ident" id="h-5fUOQZwwHx" href="#h-5fUOQZwwHx" tabindex="-1" role="presentation"></a>Expressions and statements</h2>

<p><a class="p_ident" id="p-V4j1wtBAaF" href="#p-V4j1wtBAaF" tabindex="-1" role="presentation"></a>In <a href="01_values.html">Chapter 1</a>, we made values and applied operators to them to get new values. Creating values like this is the main substance of any JavaScript program. But that substance has to be framed in a larger structure to be useful. That’s what we’ll cover in this chapter.</p>

<p><a class="p_ident" id="p-8CCep1TQ8b" href="#p-8CCep1TQ8b" tabindex="-1" role="presentation"></a>A fragment of code that produces a value is called an <em>expression</em>. Every value that is written literally (such as <code>22</code> or <code>"psychoanálisis"</code>) is an expression. An expression between parentheses is also an expression, as is a binary operator applied to two expressions or a unary operator applied to one.</p>

<p><a class="p_ident" id="p-QXQG3kVSFh" href="#p-QXQG3kVSFh" tabindex="-1" role="presentation"></a>This shows part of the beauty of a language-based interface. Expressions can contain other expressions in a way similar to how subsentences in human languages are nested—a subsentence can contain its own subsentences, and so on. This allows us to build expressions that describe arbitrarily complex computations.</p><p><a class="p_ident" id="p-K6OJ6JuFaH" href="#p-K6OJ6JuFaH" tabindex="-1" role="presentation"></a>Si una expresión corresponde a un fragmento de oración, una <em>sentencia</em> de JavaScript corresponde a una oración completa. Un programa es una lista de sentencias.</p>

<p><a class="p_ident" id="p-NAzxo1M6WC" href="#p-NAzxo1M6WC" tabindex="-1" role="presentation"></a>El tipo más simple de sentencia es una expresión seguida de un punto y coma. Este es un programa:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-hjwmfcgDR0" href="#c-hjwmfcgDR0" tabindex="-1" role="presentation"></a><span class="tok-number">1</span>;
!false;</pre>

<p><a class="p_ident" id="p-dj4UvUmws0" href="#p-dj4UvUmws0" tabindex="-1" role="presentation"></a>Es un programa inútil, sin embargo. Una expresión puede conformarse con solo producir un valor, el cual puede ser utilizado por el código circundante. Sin embargo, una sentencia se sostiene por sí misma, por lo que si no afecta al mundo, es inútil. Puede mostrar algo en la pantalla, como con <code>console.log</code>, o cambiar el estado de la máquina de una manera que afectará a las sentencias que vienen después de ella. Estos cambios son llamados <em>efectos secundarios</em>. Las sentencias en el ejemplo anterior simplemente producen los valores <code>1</code> y <code>true</code> y luego los descartan inmediatamente. Esto no deja ninguna impresión en el mundo en absoluto. Cuando ejecutas este programa, no sucede nada observable.</p>

<p><a class="p_ident" id="p-z/83KOxUGo" href="#p-z/83KOxUGo" tabindex="-1" role="presentation"></a>En algunos casos, JavaScript te permite omitir el punto y coma al final de una sentencia. En otros casos, debe estar ahí, o la siguiente línea se tratará como parte de la misma sentencia. Las reglas para cuándo se puede omitir de manera segura son algo complejas y propensas a errores. Por lo tanto, en este libro, cada sentencia que necesite un punto y coma siempre lo recibirá. Te recomiendo que hagas lo mismo, al menos hasta que hayas aprendido más sobre las sutilezas de los puntos y comas faltantes.</p>

<h2><a class="h_ident" id="h-lnOC+GBEtu" href="#h-lnOC+GBEtu" tabindex="-1" role="presentation"></a>Enlaces</h2>

<p><a class="p_ident" id="p-jG4q4gLJDw" href="#p-jG4q4gLJDw" tabindex="-1" role="presentation"></a>¿Cómo mantiene un programa un estado interno? ¿Cómo recuerda las cosas? Hemos visto cómo producir nuevos valores a partir de valores antiguos, pero esto no cambia los valores antiguos, y el nuevo valor debe ser utilizado inmediatamente o se disipará nuevamente. Para atrapar y retener valores, JavaScript proporciona una cosa llamada un <em>enlace</em>, o <em>variable</em>:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-aT9yLxdY/V" href="#c-aT9yLxdY/V" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">caught</span> = <span class="tok-number">5</span> * <span class="tok-number">5</span>;</pre>

<p><a class="p_ident" id="p-40YIWr9cII" href="#p-40YIWr9cII" tabindex="-1" role="presentation"></a>Eso nos da un segundo tipo de sentencia. La palabra especial (<em>palabra clave</em>) <code>let</code> indica que esta oración va a definir un enlace. Es seguida por el nombre del enlace y, si queremos darle inmediatamente un valor, por un operador <code>=</code> y una expresión.</p><p><a class="p_ident" id="p-66R8+GJgJ1" href="#p-66R8+GJgJ1" tabindex="-1" role="presentation"></a>El ejemplo crea un enlace llamado <code>caught</code> y lo utiliza para tomar el número que se produce al multiplicar 5 por 5.</p>

<p><a class="p_ident" id="p-sAeFT14um2" href="#p-sAeFT14um2" tabindex="-1" role="presentation"></a>Una vez que se ha definido un enlace, su nombre puede ser utilizado como una expresión. El valor de dicha expresión es el valor que el enlace tiene actualmente. Aquí tienes un ejemplo:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-FfLIqaoaFx" href="#c-FfLIqaoaFx" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">diez</span> = <span class="tok-number">10</span>;
console.log(diez * diez);
<span class="tok-comment">// → 100</span></pre>

<p><a class="p_ident" id="p-sR/0q2q2n6" href="#p-sR/0q2q2n6" tabindex="-1" role="presentation"></a>Cuando un enlace apunta a un valor, eso no significa que esté atado a ese valor para siempre. El operador <code>=</code> puede ser utilizado en cualquier momento en enlaces existentes para desconectarlos de su valor actual y hacer que apunten a uno nuevo:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-FiZBrHz3CX" href="#c-FiZBrHz3CX" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">estadoDeAnimo</span> = <span class="tok-string">"claro"</span>;
console.log(estadoDeAnimo);
<span class="tok-comment">// → claro</span>
estadoDeAnimo = <span class="tok-string">"oscuro"</span>;
console.log(estadoDeAnimo);
<span class="tok-comment">// → oscuro</span></pre>

<p><a class="p_ident" id="p-tdX1rrdcPQ" href="#p-tdX1rrdcPQ" tabindex="-1" role="presentation"></a>Deberías imaginar los enlaces como tentáculos en lugar de cajas. No <em>contienen</em> valores; los <em>agarran</em>—dos enlaces pueden referirse al mismo valor. Un programa solo puede acceder a los valores a los que aún tiene una referencia. Cuando necesitas recordar algo, ya sea haces crecer un tentáculo para aferrarte a él o vuelves a conectar uno de tus tentáculos existentes a él.</p>

<p><a class="p_ident" id="p-xk5wAppssa" href="#p-xk5wAppssa" tabindex="-1" role="presentation"></a>Vamos a ver otro ejemplo. Para recordar la cantidad de dólares que Luigi aún te debe, creas un enlace. Cuando te paga $35, le das a este enlace un nuevo valor:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-UpFQBNACng" href="#c-UpFQBNACng" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">deudaDeLuigi</span> = <span class="tok-number">140</span>;
deudaDeLuigi = deudaDeLuigi - <span class="tok-number">35</span>;
console.log(deudaDeLuigi);
<span class="tok-comment">// → 105</span></pre>

<p><a class="p_ident" id="p-OlJt23pj8f" href="#p-OlJt23pj8f" tabindex="-1" role="presentation"></a>Cuando defines un enlace sin darle un valor, el tentáculo no tiene nada a lo que agarrarse, por lo que termina en el aire. Si solicitas el valor de un enlace vacío, obtendrás el valor <code>undefined</code>.</p><p><a class="p_ident" id="p-s1Y1EgGqy/" href="#p-s1Y1EgGqy/" tabindex="-1" role="presentation"></a>Una única declaración <code>let</code> puede definir múltiples enlaces. Las definiciones deben separarse por comas:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-pT4pqev8kx" href="#c-pT4pqev8kx" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">uno</span> = <span class="tok-number">1</span>, <span class="tok-definition">dos</span> = <span class="tok-number">2</span>;
console.log(uno + dos);
<span class="tok-comment">// → 3</span></pre>

<p><a class="p_ident" id="p-/NlENJMZ25" href="#p-/NlENJMZ25" tabindex="-1" role="presentation"></a>Las palabras <code>var</code> y <code>const</code> también se pueden usar para crear enlaces, de manera similar a <code>let</code>:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-8QmBe23E5V" href="#c-8QmBe23E5V" tabindex="-1" role="presentation"></a><span class="tok-keyword">var</span> <span class="tok-definition">nombre</span> = <span class="tok-string">"Ayda"</span>;
<span class="tok-keyword">const</span> <span class="tok-definition">saludo</span> = <span class="tok-string">"Hola "</span>;
console.log(saludo + nombre);
<span class="tok-comment">// → Hola Ayda</span></pre>

<p><a class="p_ident" id="p-pp4UqHb97T" href="#p-pp4UqHb97T" tabindex="-1" role="presentation"></a>La primera de estas, <code>var</code> (abreviatura de "variable"), es la forma en que se declaraban los enlaces en JavaScript anterior a 2015, cuando aún no existía <code>let</code>. Volveré sobre la manera precisa en que difiere de <code>let</code> en el <a href="03_functions.html">próximo capítulo</a>. Por ahora, recuerda que en su mayor parte hace lo mismo, pero rara vez lo usaremos en este libro porque se comporta de manera extraña en algunas situaciones.</p>

<p><a class="p_ident" id="p-ReUkO4pLEi" href="#p-ReUkO4pLEi" tabindex="-1" role="presentation"></a>La palabra <code>const</code> representa <em>constante</em>. Define un enlace constante, que apunta al mismo valor mientras exista. Esto es útil para enlaces que simplemente dan un nombre a un valor para poder referenciarlo fácilmente más tarde.</p>

<h2><a class="h_ident" id="h-SbWNrIYjdH" href="#h-SbWNrIYjdH" tabindex="-1" role="presentation"></a>Nombres de enlaces</h2>

<p><a class="p_ident" id="p-D+UoiHGeN5" href="#p-D+UoiHGeN5" tabindex="-1" role="presentation"></a>Los nombres de enlaces pueden ser cualquier secuencia de una o más letras. Los dígitos pueden formar parte de los nombres de enlaces —<code>catch22</code> es un nombre válido, por ejemplo— pero el nombre no puede comenzar con un dígito. Un nombre de enlace puede incluir signos de dólar (<code>$</code>) o guiones bajos (<code>_</code>) pero no otros signos de puntuación o caracteres especiales.</p>

<p><a class="p_ident" id="p-GioEDRc+dl" href="#p-GioEDRc+dl" tabindex="-1" role="presentation"></a>Las palabras con un significado especial, como <code>let</code>, son <em>palabras clave</em>, y no pueden utilizarse como nombres de enlaces. También hay una serie de palabras que están "reservadas para uso" en futuras versiones de JavaScript, que tampoco pueden usarse como nombres de enlaces. La lista completa de palabras clave y palabras reservadas es bastante larga:</p><pre class="snippet" data-language="null"><a class="c_ident" id="c-7BGolnv7qC" href="#c-7BGolnv7qC" tabindex="-1" role="presentation"></a>break case catch class const continue debugger default
delete do else enum export extends false finally for
function if implements import interface in instanceof let
new package private protected public return static super
switch this throw true try typeof var void while with yield</pre>

<p><a class="p_ident" id="p-u+ExerhESK" href="#p-u+ExerhESK" tabindex="-1" role="presentation"></a>No te preocupes por memorizar esta lista. Cuando la creación de un enlace produce un error de sintaxis inesperado, verifica si estás intentando definir una palabra reservada.</p>

<h2><a class="h_ident" id="h-2Tc54fkIgF" href="#h-2Tc54fkIgF" tabindex="-1" role="presentation"></a>El entorno</h2>

<p><a class="p_ident" id="p-tJKFexJV/j" href="#p-tJKFexJV/j" tabindex="-1" role="presentation"></a>La colección de enlaces y sus valores que existen en un momento dado se llama <em>entorno</em>. Cuando un programa se inicia, este entorno no está vacío. Siempre contiene enlaces que forman parte del estándar del lenguaje, y la mayoría de las veces también tiene enlaces que proporcionan formas de interactuar con el sistema circundante. Por ejemplo, en un navegador, hay funciones para interactuar con el sitio web cargado actualmente y para leer la entrada del ratón y del teclado.</p>

<h2><a class="h_ident" id="h-K5Yd6h3Axg" href="#h-K5Yd6h3Axg" tabindex="-1" role="presentation"></a>Funciones</h2>

<p><a class="p_ident" id="p-S7KjMy3yAl" href="#p-S7KjMy3yAl" tabindex="-1" role="presentation"></a>Muchos de los valores proporcionados en el entorno predeterminado tienen el tipo <em>function</em>. Una función es un fragmento de programa envuelto en un valor. Estos valores se pueden <em>aplicar</em> para ejecutar el programa envuelto. Por ejemplo, en un entorno de navegador, el enlace <code>prompt</code> contiene una función que muestra una pequeña caja de diálogo que solicita la entrada del usuario. Se utiliza de la siguiente manera:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-QSUssd4nHv" href="#c-QSUssd4nHv" tabindex="-1" role="presentation"></a>prompt(<span class="tok-string">"Ingrese el código de acceso"</span>);</pre><figure><img src="images/prompt.png" alt="Un cuadro de diálogo de solicitud que dice 'ingresar código de acceso'"></figure>

<p><a class="p_ident" id="p-9qu6Ki2/lH" href="#p-9qu6Ki2/lH" tabindex="-1" role="presentation"></a>Ejecutar una función se llama <em>invocar</em>, <em>llamar</em> o <em>aplicar</em>. Puedes llamar a una función colocando paréntesis después de una expresión que produce un valor de función. Normalmente usarás directamente el nombre del enlace que contiene la función. Los valores entre paréntesis se entregan al programa dentro de la función. En el ejemplo, la función <code>prompt</code> utiliza la cadena que le proporcionamos como texto para mostrar en el cuadro de diálogo. Los valores entregados a las funciones se llaman <em>argumentos</em>. Diferentes funciones pueden necesitar una cantidad diferente o diferentes tipos de argumentos.</p><p><a class="p_ident" id="p-P1XUFb0AF2" href="#p-P1XUFb0AF2" tabindex="-1" role="presentation"></a>La función <code>prompt</code> no se utiliza mucho en la programación web moderna, principalmente porque no se tiene control sobre cómo se ve el diálogo resultante, pero puede ser útil en programas sencillos y experimentos.</p>

<h2><a class="h_ident" id="h-6+Vb3XQoaa" href="#h-6+Vb3XQoaa" tabindex="-1" role="presentation"></a>La función console.log</h2>

<p><a class="p_ident" id="p-77/QHdXmEK" href="#p-77/QHdXmEK" tabindex="-1" role="presentation"></a>En los ejemplos, utilicé <code>console.log</code> para mostrar valores. La mayoría de los sistemas de JavaScript (incluyendo todos los navegadores web modernos y Node.js) proporcionan una función <code>console.log</code> que escribe sus argumentos en algún dispositivo de salida de texto. En los navegadores, la salida se muestra en la consola de JavaScript. Esta parte de la interfaz del navegador está oculta por defecto, pero la mayoría de los navegadores la abren cuando se presiona F12 o, en Mac, <span class="keyname">command</span>-<span class="keyname">option</span>-I. Si eso no funciona, busca en los menús un elemento llamado Herramientas de desarrollo o similar.</p>

<p><a class="p_ident" id="p-KiTJ1BsGuf" href="#p-KiTJ1BsGuf" tabindex="-1" role="presentation"></a>Cuando ejecutes los ejemplos (o tu propio código) en las páginas de este libro, la salida de <code>console.log</code> se mostrará después del ejemplo, en lugar de en la consola de JavaScript del navegador.</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-TuaqUrwlKB" href="#c-TuaqUrwlKB" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">x</span> = <span class="tok-number">30</span>;
console.log(<span class="tok-string">"el valor de x es"</span>, x);
<span class="tok-comment">// → el valor de x es 30</span></pre>

<p><a class="p_ident" id="p-p2JPaHsFdx" href="#p-p2JPaHsFdx" tabindex="-1" role="presentation"></a>Aunque los nombres de las variables no pueden contener caracteres de punto, <code>console.log</code> tiene uno. Esto es porque <code>console.log</code> no es una simple asignación, sino una expresión que recupera la propiedad <code>log</code> del valor almacenado por la asignación <code>console</code>. Descubriremos exactamente qué significa esto en el <a href="04_data.html#properties">Capítulo 4</a>.</p>

<h2 id="return_values"><a class="h_ident" id="h-nULi9znEdr" href="#h-nULi9znEdr" tabindex="-1" role="presentation"></a>Valores de retorno</h2>

<p><a class="p_ident" id="p-cJD1JUU5+H" href="#p-cJD1JUU5+H" tabindex="-1" role="presentation"></a>Mostrar un cuadro de diálogo o escribir texto en la pantalla es un <em>efecto secundario</em>. Muchas funciones son útiles debido a los efectos secundarios que producen. Las funciones también pueden producir valores, en cuyo caso no es necesario que tengan un efecto secundario para ser útiles. Por ejemplo, la función <code>Math.max</code> toma cualquier cantidad de argumentos numéricos y devuelve el mayor:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-PEuTYZX6NI" href="#c-PEuTYZX6NI" tabindex="-1" role="presentation"></a>console.log(Math.max(<span class="tok-number">2</span>, <span class="tok-number">4</span>));
<span class="tok-comment">// → 4</span></pre><p><a class="p_ident" id="p-j9xxLwTmeJ" href="#p-j9xxLwTmeJ" tabindex="-1" role="presentation"></a>Cuando una función produce un valor, se dice que <em>devuelve</em> ese valor. Cualquier cosa que produzca un valor es una expresión en JavaScript, lo que significa que las llamadas a funciones se pueden usar dentro de expresiones más grandes. En el siguiente código, una llamada a <code>Math.min</code>, que es lo opuesto a <code>Math.max</code>, se usa como parte de una expresión de suma:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-V4eUUr1Irj" href="#c-V4eUUr1Irj" tabindex="-1" role="presentation"></a>console.log(Math.min(<span class="tok-number">2</span>, <span class="tok-number">4</span>) + <span class="tok-number">100</span>);
<span class="tok-comment">// → 102</span></pre>
 
<p><a class="p_ident" id="p-JQFZaCJIS7" href="#p-JQFZaCJIS7" tabindex="-1" role="presentation"></a><a href="03_functions.html">Capítulo 3</a> explicará cómo escribir tus propias funciones.</p>

<h2><a class="h_ident" id="h-rDxYNPd65Z" href="#h-rDxYNPd65Z" tabindex="-1" role="presentation"></a>Flujo de control</h2>

<p><a class="p_ident" id="p-QdCrOXOgYy" href="#p-QdCrOXOgYy" tabindex="-1" role="presentation"></a>Cuando tu programa contiene más de una instrucción, las instrucciones se ejecutan como si fueran una historia, de arriba abajo. Por ejemplo, el siguiente programa tiene dos instrucciones. La primera le pide al usuario un número, y la segunda, que se ejecuta después de la primera, muestra el cuadrado de ese número:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-6hF1Rg3sJ/" href="#c-6hF1Rg3sJ/" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">theNumber</span> = Number(prompt(<span class="tok-string">"Elige un número"</span>));
console.log(<span class="tok-string">"Tu número es la raíz cuadrada de "</span> +
            theNumber * theNumber);</pre>
 
<p><a class="p_ident" id="p-sRAFsk3Egv" href="#p-sRAFsk3Egv" tabindex="-1" role="presentation"></a>La función <code>Number</code> convierte un valor a un número. Necesitamos esa conversión porque el resultado de <code>prompt</code> es un valor de tipo cadena, y queremos un número. Hay funciones similares llamadas <code>String</code> y <code>Boolean</code> que convierten valores a esos tipos.</p>

<p><a class="p_ident" id="p-iURUYhgkYl" href="#p-iURUYhgkYl" tabindex="-1" role="presentation"></a>Aquí tienes la representación esquemática bastante trivial del flujo de control en línea recta:</p><figure><img src="fonts/controlflow-straight.svg" alt="Diagrama que muestra una flecha recta"></figure>

<h2><a class="h_ident" id="h-wpz5oi2dy7" href="#h-wpz5oi2dy7" tabindex="-1" role="presentation"></a>Ejecución condicional</h2>

<p><a class="p_ident" id="p-vIB/f6fX22" href="#p-vIB/f6fX22" tabindex="-1" role="presentation"></a>No todos los programas son caminos rectos. Podemos, por ejemplo, querer crear una carretera ramificada donde el programa tome la rama adecuada según la situación en cuestión. Esto se llama <em>ejecución condicional</em>.</p><figure><img src="fonts/controlflow-if.svg" alt="Diagrama de una flecha que se divide en dos y luego vuelve a unirse"></figure><p><a class="p_ident" id="p-+kdDcK9eLo" href="#p-+kdDcK9eLo" tabindex="-1" role="presentation"></a>La ejecución condicional se crea con la palabra clave <code>if</code> en JavaScript. En el caso simple, queremos que cierto código se ejecute si, y solo si, se cumple una condición específica. Por ejemplo, podríamos querer mostrar el cuadrado de la entrada solo si la entrada es realmente un número:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-D0zJWB8mO1" href="#c-D0zJWB8mO1" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">elNumero</span> = Number(prompt(<span class="tok-string">"Elige un número"</span>));
<span class="tok-keyword">if</span> (!Number.isNaN(elNumero)) {
  console.log(<span class="tok-string">"Tu número es la raíz cuadrada de "</span> +
              elNumero * elNumero);
}</pre>

<p><a class="p_ident" id="p-mKMHRLufE5" href="#p-mKMHRLufE5" tabindex="-1" role="presentation"></a>Con esta modificación, si ingresas "loro", no se muestra ninguna salida.</p>

<p><a class="p_ident" id="p-aQHBgWqdgL" href="#p-aQHBgWqdgL" tabindex="-1" role="presentation"></a>La palabra clave <code>if</code> ejecuta o salta una declaración dependiendo del valor de una expresión booleana. La expresión decisiva se coloca después de la palabra clave, entre paréntesis, seguida de la declaración a ejecutar.</p>

<p><a class="p_ident" id="p-pG2wjXJ0HS" href="#p-pG2wjXJ0HS" tabindex="-1" role="presentation"></a>La función <code>Number.isNaN</code> es una función estándar de JavaScript que devuelve <code>true</code> solo si el argumento que recibe es <code>NaN</code>. La función <code>Number</code> devuelve <code>NaN</code> cuando le pasas una cadena que no representa un número válido. Por lo tanto, la condición se traduce a "a menos que <code>elNumero</code> no sea un número, hacer esto".</p>

<p><a class="p_ident" id="p-it4hLyYIxE" href="#p-it4hLyYIxE" tabindex="-1" role="presentation"></a>La declaración después del <code>if</code> está entre llaves (<code>{</code> y <code>}</code>) en este ejemplo. Las llaves se pueden usar para agrupar cualquier cantidad de declaraciones en una sola declaración, llamada un <em>bloque</em>. También podrías haberlas omitido en este caso, ya que contienen solo una declaración, pero para evitar tener que pensar si son necesarias, la mayoría de los programadores de JavaScript las usan en cada declaración envuelta de esta manera. Mayormente seguiremos esa convención en este libro, excepto por algunas instrucciones de una línea.</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-/Ndk5rqq2Z" href="#c-/Ndk5rqq2Z" tabindex="-1" role="presentation"></a><span class="tok-keyword">if</span> (<span class="tok-number">1</span> + <span class="tok-number">1</span> == <span class="tok-number">2</span>) console.log(<span class="tok-string">"Es verdad"</span>);
<span class="tok-comment">// → Es verdad</span></pre>

<p><a class="p_ident" id="p-Kbay2jAh0C" href="#p-Kbay2jAh0C" tabindex="-1" role="presentation"></a>A menudo no solo tendrás código que se ejecute cuando una condición es verdadera, sino también código que maneje el otro caso. Este camino alternativo está representado por la segunda flecha en el diagrama. Puedes usar la palabra clave <code>else</code>, junto con <code>if</code>, para crear dos rutas de ejecución separadas y alternativas:</p><pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-kLpqX2fnaC" href="#c-kLpqX2fnaC" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">theNumber</span> = Number(prompt(<span class="tok-string">"Elige un número"</span>));
<span class="tok-keyword">if</span> (!Number.isNaN(theNumber)) {
  console.log(<span class="tok-string">"Tu número es la raíz cuadrada de "</span> +
              theNumber * theNumber);
} <span class="tok-keyword">else</span> {
  console.log(<span class="tok-string">"¡Oye! ¿Por qué no me diste un número?"</span>);
}</pre>

<p><a class="p_ident" id="p-AfMbm4fyrl" href="#p-AfMbm4fyrl" tabindex="-1" role="presentation"></a>If you have more than two paths to choose from, you can “chain” multiple <code>if</code>/<code>else</code> pairs together. Here’s an example:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-QrvIive0zT" href="#c-QrvIive0zT" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">num</span> = Number(prompt(<span class="tok-string">"Elige un número"</span>));

<span class="tok-keyword">if</span> (num &lt; <span class="tok-number">10</span>) {
  console.log(<span class="tok-string">"Pequeño"</span>);
} <span class="tok-keyword">else</span> <span class="tok-keyword">if</span> (num &lt; <span class="tok-number">100</span>) {
  console.log(<span class="tok-string">"Mediano"</span>);
} <span class="tok-keyword">else</span> {
  console.log(<span class="tok-string">"Grande"</span>);
}</pre>

<p><a class="p_ident" id="p-6w2546HxbK" href="#p-6w2546HxbK" tabindex="-1" role="presentation"></a>The program will first check whether <code>num</code> is less than 10. If it is, it chooses that branch, shows <code>"Small"</code>, and is done. If it isn’t, it takes the <code>else</code> branch, which itself contains a second <code>if</code>. If the second condition (<code>&lt; 100</code>) holds, that means the number is at least 10 but below 100, and <code>"Medium"</code> is shown. If it doesn’t, the second and last <code>else</code> branch is chosen.</p>

<p><a class="p_ident" id="p-8cVBhHN8E8" href="#p-8cVBhHN8E8" tabindex="-1" role="presentation"></a>The schema for this program looks something like this:</p><figure><img src="fonts/controlflow-nested-if.svg" alt="Diagram showing arrow that splits in two, with on the branches splitting again, before all branches rejoin again"></figure>

<h2 id="loops"><a class="h_ident" id="h-FaGGgUI+MM" href="#h-FaGGgUI+MM" tabindex="-1" role="presentation"></a>while and do loops</h2>

<p><a class="p_ident" id="p-FIHE6k56BA" href="#p-FIHE6k56BA" tabindex="-1" role="presentation"></a>Consider a program that outputs all even numbers from 0 to 12. One way to write this is as follows:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-NiH5lbw9eg" href="#c-NiH5lbw9eg" tabindex="-1" role="presentation"></a>console.log(<span class="tok-number">0</span>);
console.log(<span class="tok-number">2</span>);
console.log(<span class="tok-number">4</span>);
console.log(<span class="tok-number">6</span>);
console.log(<span class="tok-number">8</span>);
console.log(<span class="tok-number">10</span>);
console.log(<span class="tok-number">12</span>);</pre><p><a class="p_ident" id="p-r1EVilCb9Y" href="#p-r1EVilCb9Y" tabindex="-1" role="presentation"></a>Esto funciona, pero la idea de escribir un programa es hacer algo con <em>menos</em> trabajo, no más. Si necesitáramos todos los números pares menores que 1,000, este enfoque sería inviable. Lo que necesitamos es una forma de ejecutar una pieza de código múltiples veces. Esta forma de flujo de control se llama un <em>loop</em>.</p><figure><img src="fonts/controlflow-loop.svg" alt="Diagrama que muestra una flecha hacia un punto que tiene una flecha cíclica que regresa a sí misma y otra flecha que sigue adelante"></figure>

<p><a class="p_ident" id="p-1PXG58nhBq" href="#p-1PXG58nhBq" tabindex="-1" role="presentation"></a>El flujo de control mediante loops nos permite regresar a algún punto en el programa donde estábamos antes y repetirlo con nuestro estado actual del programa. Si combinamos esto con una asignación que cuente, podemos hacer algo así:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-jMUfZIZChZ" href="#c-jMUfZIZChZ" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">numero</span> = <span class="tok-number">0</span>;
<span class="tok-keyword">while</span> (numero &lt;= <span class="tok-number">12</span>) {
  console.log(numero);
  numero = numero + <span class="tok-number">2</span>;
}
<span class="tok-comment">// → 0</span>
<span class="tok-comment">// → 2</span>
<span class="tok-comment">//   … etcétera</span></pre>

<p><a class="p_ident" id="p-sQDC32i3eP" href="#p-sQDC32i3eP" tabindex="-1" role="presentation"></a>Una declaración que comienza con la palabra clave <code>while</code> crea un loop. La palabra <code>while</code> viene seguida de una expresión entre paréntesis y luego una declaración, muy similar a <code>if</code>. El loop sigue entrando en esa declaración siempre que la expresión produzca un valor que dé <code>true</code> al convertirse en Boolean.</p>

<p><a class="p_ident" id="p-fqT+6kyNIX" href="#p-fqT+6kyNIX" tabindex="-1" role="presentation"></a>La asignación <code>numero</code> muestra cómo una asignación puede hacer un seguimiento del progreso de un programa. Cada vez que se repite el loop, <code>numero</code> obtiene un valor que es 2 más que su valor anterior. Al principio de cada repetición, se compara con el número 12 para decidir si el trabajo del programa está completo.</p>

<p><a class="p_ident" id="p-08ZfnnmMI9" href="#p-08ZfnnmMI9" tabindex="-1" role="presentation"></a>Como ejemplo que realmente hace algo útil, ahora podemos escribir un programa que calcule y muestre el valor de 2<sup>10</sup> (2 elevado a la 10ma potencia). Utilizamos dos asignaciones: una para hacer un seguimiento de nuestro resultado y otra para contar cuántas veces hemos multiplicado este resultado por 2. El loop comprueba si la segunda asignación ha alcanzado el valor de 10 aún y, si no, actualiza ambas asignaciones.</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-9AxUm9n4M9" href="#c-9AxUm9n4M9" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">resultado</span> = <span class="tok-number">1</span>;
<span class="tok-keyword">let</span> <span class="tok-definition">contador</span> = <span class="tok-number">0</span>;
<span class="tok-keyword">while</span> (contador &lt; <span class="tok-number">10</span>) {
  resultado = resultado * <span class="tok-number">2</span>;
  contador = contador + <span class="tok-number">1</span>;
}
console.log(resultado);
<span class="tok-comment">// → 1024</span></pre><p><a class="p_ident" id="p-MERlXZu4+T" href="#p-MERlXZu4+T" tabindex="-1" role="presentation"></a>El contador también podría haber comenzado en <code>1</code> y haber comprobado hasta <code>&lt;= 10</code>, pero por razones que se harán evidentes en <a href="04_data.html#array_indexing">Capítulo 4</a>, es una buena idea acostumbrarse a contar desde 0.</p>

<p><a class="p_ident" id="p-z7/PGwIEz1" href="#p-z7/PGwIEz1" tabindex="-1" role="presentation"></a>Nótese que JavaScript también tiene un operador para la exponenciación (<code>2 ** 10</code>), que sería utilizado para calcular esto en un código real, pero habría arruinado el ejemplo.</p>

<p><a class="p_ident" id="p-IaWq+X29BT" href="#p-IaWq+X29BT" tabindex="-1" role="presentation"></a>Un bucle <code>do</code> es una estructura de control similar a un bucle <code>while</code>. Solo difiere en un punto: un bucle <code>do</code> ejecuta siempre su cuerpo al menos una vez, y empieza a comprobar si debe detenerse solo después de esa primera ejecución. Para reflejar esto, la prueba aparece después del cuerpo del bucle:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-t9QNhogtDA" href="#c-t9QNhogtDA" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">tuNombre</span>;
<span class="tok-keyword">do</span> {
  tuNombre = prompt(<span class="tok-string">"¿Quién eres?"</span>);
} <span class="tok-keyword">while</span> (!tuNombre);
console.log(<span class="tok-string">"Hola "</span> + tuNombre);</pre>

<p><a class="p_ident" id="p-1kqspDALxr" href="#p-1kqspDALxr" tabindex="-1" role="presentation"></a>Este programa te obligará a ingresar un nombre. Preguntará una y otra vez hasta que obtenga algo que no sea una cadena vacía. Aplicar el operador <code>!</code> convertirá un valor al tipo Booleano antes de negarlo, y todas las cadenas excepto <code>""</code> se convierten en <code>true</code>. Esto significa que el bucle continúa hasta que proporciones un nombre no vacío.</p>

<h2><a class="h_ident" id="h-3I0M2f1Cmh" href="#h-3I0M2f1Cmh" tabindex="-1" role="presentation"></a>Indentando Código</h2>

<p><a class="p_ident" id="p-IKFiLJvotP" href="#p-IKFiLJvotP" tabindex="-1" role="presentation"></a>En los ejemplos, he estado agregando espacios delante de las instrucciones que son parte de alguna instrucción más grande. Estos espacios no son obligatorios, el ordenador aceptará el programa sin problemas. De hecho, incluso los saltos de línea en los programas son opcionales. Podrías escribir un programa como una sola línea larga si así lo deseas.</p>

<p><a class="p_ident" id="p-IUZYH0xDM+" href="#p-IUZYH0xDM+" tabindex="-1" role="presentation"></a>El papel de esta sangría dentro de los bloques es resaltar la estructura del código para los lectores humanos. En el código donde se abren nuevos bloques dentro de otros bloques, puede ser difícil ver dónde termina uno y empieza otro. Con la sangría adecuada, la forma visual de un programa corresponde a la forma de los bloques que contiene. A mí me gusta usar dos espacios para cada bloque abierto, pero los gustos difieren, algunas personas usan cuatro espacios y otras usan caracteres de tabulación. Lo importante es que cada nuevo bloque agregue la misma cantidad de espacio.</p><pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-Dmd8L2VV0d" href="#c-Dmd8L2VV0d" tabindex="-1" role="presentation"></a><span class="tok-keyword">if</span> (false != true) {
  console.log(<span class="tok-string">"Eso tiene sentido."</span>);
  <span class="tok-keyword">if</span> (<span class="tok-number">1</span> &lt; <span class="tok-number">2</span>) {
    console.log(<span class="tok-string">"Ninguna sorpresa allí."</span>);
  }
}</pre>

<p><a class="p_ident" id="p-T4oQXlT1VI" href="#p-T4oQXlT1VI" tabindex="-1" role="presentation"></a>La mayoría de los programas editores de código (incluido el que se encuentra en este libro) ayudarán automáticamente con la indentación adecuada para las nuevas líneas.</p>

<h2><a class="h_ident" id="h-oupMC+5FKN" href="#h-oupMC+5FKN" tabindex="-1" role="presentation"></a>bucles for</h2>

<p><a class="p_ident" id="p-t55fBgZ9ww" href="#p-t55fBgZ9ww" tabindex="-1" role="presentation"></a>Muchos bucles siguen el patrón mostrado en los ejemplos de <code>while</code>. Primero se crea un enlace "contador" para hacer un seguimiento del progreso del bucle. Luego viene un bucle <code>while</code>, generalmente con una expresión de prueba que verifica si el contador ha alcanzado su valor final. Al final del cuerpo del bucle, se actualiza el contador para hacer un seguimiento del progreso.</p>

<p><a class="p_ident" id="p-M1Sq5VUbFv" href="#p-M1Sq5VUbFv" tabindex="-1" role="presentation"></a>Debido a que este patrón es tan común, JavaScript y lenguajes similares proporcionan una forma ligeramente más corta y completa, el bucle <code>for</code>:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-bv526eAQ8J" href="#c-bv526eAQ8J" tabindex="-1" role="presentation"></a><span class="tok-keyword">for</span> (<span class="tok-keyword">let</span> <span class="tok-definition">numero</span> = <span class="tok-number">0</span>; numero &lt;= <span class="tok-number">12</span>; numero = numero + <span class="tok-number">2</span>) {
  console.log(numero);
}
<span class="tok-comment">// → 0</span>
<span class="tok-comment">// → 2</span>
<span class="tok-comment">//   … etcétera</span></pre>

<p><a class="p_ident" id="p-2z5HmSaT1g" href="#p-2z5HmSaT1g" tabindex="-1" role="presentation"></a>Este programa es exactamente equivalente al ejemplo <a href="02_program_structure.html#loops">anterior</a> de impresión de números pares. El único cambio es que todas las declaraciones relacionadas con el "estado" del bucle están agrupadas después de <code>for</code>.</p>

<p><a class="p_ident" id="p-8ou5wZ2rOs" href="#p-8ou5wZ2rOs" tabindex="-1" role="presentation"></a>Los paréntesis después de una palabra clave <code>for</code> deben contener dos puntos y comas. La parte antes del primer punto y coma <em>inicializa</em> el bucle, generalmente definiendo un enlace. La segunda parte es la expresión que <em>verifica</em> si el bucle debe continuar. La parte final <em>actualiza</em> el estado del bucle después de cada iteración. En la mayoría de los casos, esto es más corto y claro que un constructo <code>while</code>.</p>

<p><a class="p_ident" id="p-p2UzPdhGGE" href="#p-p2UzPdhGGE" tabindex="-1" role="presentation"></a>Este es el código que calcula 2<sup>10</sup> utilizando <code>for</code> en lugar de <code>while</code>:</p>  <pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-BPd5Bl+eyt" href="#c-BPd5Bl+eyt" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">resultado</span> = <span class="tok-number">1</span>;
<span class="tok-keyword">for</span> (<span class="tok-keyword">let</span> <span class="tok-definition">contador</span> = <span class="tok-number">0</span>; contador &lt; <span class="tok-number">10</span>; contador = contador + <span class="tok-number">1</span>) {
  resultado = resultado * <span class="tok-number">2</span>;
}
console.log(resultado);
<span class="tok-comment">// → 1024</span></pre>

<h2><a class="h_ident" id="h-WWKAoSPJ47" href="#h-WWKAoSPJ47" tabindex="-1" role="presentation"></a>Salir de un Bucle</h2>

<p><a class="p_ident" id="p-kzAWunajYY" href="#p-kzAWunajYY" tabindex="-1" role="presentation"></a>Que la condición del bucle genere <code>false</code> no es la única forma en que un bucle puede finalizar. La instrucción <code>break</code> tiene el efecto de salir inmediatamente del bucle que la contiene. Su uso se demuestra en el siguiente programa, que encuentra el primer número que es mayor o igual a 20 y divisible por 7:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-G/xQzCJ2hv" href="#c-G/xQzCJ2hv" tabindex="-1" role="presentation"></a><span class="tok-keyword">for</span> (<span class="tok-keyword">let</span> <span class="tok-definition">actual</span> = <span class="tok-number">20</span>; ; actual = actual + <span class="tok-number">1</span>) {
  <span class="tok-keyword">if</span> (actual % <span class="tok-number">7</span> == <span class="tok-number">0</span>) {
    console.log(actual);
    <span class="tok-keyword">break</span>;
  }
}
<span class="tok-comment">// → 21</span></pre>

<p><a class="p_ident" id="p-6KpM9sBZ2r" href="#p-6KpM9sBZ2r" tabindex="-1" role="presentation"></a>Usar el operador de resto (<code>%</code>) es una forma sencilla de probar si un número es divisible por otro. Si lo es, el resto de su división es cero.</p>

<p><a class="p_ident" id="p-xKPyWJdErp" href="#p-xKPyWJdErp" tabindex="-1" role="presentation"></a>El constructo <code>for</code> en el ejemplo no tiene una parte que verifique el fin del bucle. Esto significa que el bucle nunca se detendrá a menos que se ejecute la instrucción <code>break</code> en su interior.</p>

<p><a class="p_ident" id="p-2mGltrXORo" href="#p-2mGltrXORo" tabindex="-1" role="presentation"></a>Si eliminaras esa instrucción <code>break</code> o por error escribieras una condición final que siempre produce <code>true</code>, tu programa quedaría atrapado en un <em>bucle infinito</em>. Un programa atrapado en un bucle infinito nunca terminará de ejecutarse, lo cual suele ser algo malo.</p>

<p><a class="p_ident" id="p-KwW2DwUN2L" href="#p-KwW2DwUN2L" tabindex="-1" role="presentation"></a>Si creas un bucle infinito en uno de los ejemplos de estas páginas, generalmente se te preguntará si deseas detener el script después de unos segundos. Si eso falla, tendrás que cerrar la pestaña en la que estás trabajando para recuperarte.</p><p><a class="p_ident" id="p-aoydpx700w" href="#p-aoydpx700w" tabindex="-1" role="presentation"></a>La palabra clave <code>continue</code> es similar a <code>break</code> en que influye en el progreso de un bucle. Cuando se encuentra <code>continue</code> en el cuerpo de un bucle, el control sale del cuerpo y continúa con la siguiente iteración del bucle.</p>

<h2><a class="h_ident" id="h-1JSoOGP+6B" href="#h-1JSoOGP+6B" tabindex="-1" role="presentation"></a>Actualizando las asignaciones de forma concisa</h2>

<p><a class="p_ident" id="p-OFpXvgvhIR" href="#p-OFpXvgvhIR" tabindex="-1" role="presentation"></a>Especialmente al hacer bucles, un programa a menudo necesita "actualizar" una asignación para contener un valor basado en el valor previo de esa asignación.</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-aegdj8V5XM" href="#c-aegdj8V5XM" tabindex="-1" role="presentation"></a>counter = counter + <span class="tok-number">1</span>;</pre>

<p><a class="p_ident" id="p-n9PMtWEgzN" href="#p-n9PMtWEgzN" tabindex="-1" role="presentation"></a>JavaScript proporciona atajos para esto:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-/XU8FyoU4+" href="#c-/XU8FyoU4+" tabindex="-1" role="presentation"></a>counter += <span class="tok-number">1</span>;</pre>

<p><a class="p_ident" id="p-3IlWnnMlMo" href="#p-3IlWnnMlMo" tabindex="-1" role="presentation"></a>Atajos similares funcionan para muchos otros operadores, como <code>result *= 2</code> para duplicar <code>result</code> o <code>counter -= 1</code> para contar hacia abajo.</p>

<p><a class="p_ident" id="p-4qNl5MgMN9" href="#p-4qNl5MgMN9" tabindex="-1" role="presentation"></a>Esto nos permite acortar aún más nuestro ejemplo de conteo:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-h8HkwMM+IM" href="#c-h8HkwMM+IM" tabindex="-1" role="presentation"></a><span class="tok-keyword">for</span> (<span class="tok-keyword">let</span> <span class="tok-definition">number</span> = <span class="tok-number">0</span>; number &lt;= <span class="tok-number">12</span>; number += <span class="tok-number">2</span>) {
  console.log(number);
}</pre>

<p><a class="p_ident" id="p-Fevr7dCSy6" href="#p-Fevr7dCSy6" tabindex="-1" role="presentation"></a>Para <code>counter += 1</code> y <code>counter -= 1</code>, existen equivalentes aún más cortos: <code>counter++</code> y <code>counter--</code>.</p>

<h2><a class="h_ident" id="h-jMKsa0SXdL" href="#h-jMKsa0SXdL" tabindex="-1" role="presentation"></a>Despachando en base a un valor con switch</h2>

<p><a class="p_ident" id="p-not5JaXWWV" href="#p-not5JaXWWV" tabindex="-1" role="presentation"></a>No es raro que el código se vea así:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-Q96dt8DAU9" href="#c-Q96dt8DAU9" tabindex="-1" role="presentation"></a><span class="tok-keyword">if</span> (x == <span class="tok-string">"value1"</span>) action1();
<span class="tok-keyword">else</span> <span class="tok-keyword">if</span> (x == <span class="tok-string">"value2"</span>) action2();
<span class="tok-keyword">else</span> <span class="tok-keyword">if</span> (x == <span class="tok-string">"value3"</span>) action3();
<span class="tok-keyword">else</span> defaultAction();</pre><p><a class="p_ident" id="p-NAtglzdIez" href="#p-NAtglzdIez" tabindex="-1" role="presentation"></a>Existe una estructura llamada <code>switch</code> que está diseñada para expresar este tipo de "despacho" de una manera más directa. Desafortunadamente, la sintaxis que JavaScript utiliza para esto (heredada de las lenguajes de programación de la línea C/Java) es un tanto incómoda, y una cadena de declaraciones <code>if</code> puede verse mejor. Aquí tienes un ejemplo:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-B7WAWZEgcU" href="#c-B7WAWZEgcU" tabindex="-1" role="presentation"></a><span class="tok-keyword">switch</span> (prompt(<span class="tok-string">"¿Cómo está el clima?"</span>)) {
  <span class="tok-keyword">case</span> <span class="tok-string">"lluvioso"</span>:
    console.log(<span class="tok-string">"Recuerda llevar un paraguas."</span>);
    <span class="tok-keyword">break</span>;
  <span class="tok-keyword">case</span> <span class="tok-string">"soleado"</span>:
    console.log(<span class="tok-string">"Viste ligero."</span>);
  <span class="tok-keyword">case</span> <span class="tok-string">"nublado"</span>:
    console.log(<span class="tok-string">"Sal afuera."</span>);
    <span class="tok-keyword">break</span>;
  <span class="tok-keyword">default</span>:
    console.log(<span class="tok-string">"¡Tipo de clima desconocido!"</span>);
    <span class="tok-keyword">break</span>;
}</pre>

<p><a class="p_ident" id="p-25X42G30Nq" href="#p-25X42G30Nq" tabindex="-1" role="presentation"></a>Puedes colocar cualquier cantidad de etiquetas <code>case</code> dentro del bloque abierto por <code>switch</code>. El programa comenzará a ejecutarse en la etiqueta que corresponda al valor que se le dio a <code>switch</code>, o en <code>default</code> si no se encuentra un valor coincidente. Continuará ejecutándose, incluso a través de otras etiquetas, hasta que alcance una declaración <code>break</code>. En algunos casos, como en el caso de <code>"soleado"</code> en el ejemplo, esto se puede utilizar para compartir parte del código entre casos (recomienda salir al exterior tanto para clima soleado como nublado). Sin embargo, debes tener cuidado, ya que es fácil olvidar un <code>break</code> similar, lo que hará que el programa ejecute código que no deseas ejecutar.</p>

<h2><a class="h_ident" id="h-t54vuASjLD" href="#h-t54vuASjLD" tabindex="-1" role="presentation"></a>Mayúsculas</h2>

<p><a class="p_ident" id="p-qdjqWK0eh8" href="#p-qdjqWK0eh8" tabindex="-1" role="presentation"></a>Los nombres de los enlaces no pueden contener espacios, sin embargo, a menudo es útil usar varias palabras para describir claramente lo que representa el enlace. Estas son prácticamente tus opciones para escribir un nombre de enlace con varias palabras:</p>

<pre class="snippet" data-language="null"><a class="c_ident" id="c-HtUFwP9TF9" href="#c-HtUFwP9TF9" tabindex="-1" role="presentation"></a>fuzzylittleturtle
fuzzy_little_turtle
FuzzyLittleTurtle
fuzzyLittleTurtle</pre>

<p><a class="p_ident" id="p-iHeX2bOrpK" href="#p-iHeX2bOrpK" tabindex="-1" role="presentation"></a>El primer estilo puede ser difícil de leer. Personalmente, me gusta el aspecto de los guiones bajos, aunque ese estilo es un poco tedioso de escribir. Las funciones estándar de JavaScript, y la mayoría de los programadores de JavaScript, siguen el último estilo: capitalizan cada palabra excepto la primera. No es difícil acostumbrarse a pequeñas cosas como esa, y el código con estilos de nomenclatura mixtos puede resultar perturbador de leer, así que seguimos esta convención.</p><p><a class="p_ident" id="p-zMlRK/pymj" href="#p-zMlRK/pymj" tabindex="-1" role="presentation"></a>En algunos casos, como la función <code>Number</code>, la primera letra de una vinculación también se capitaliza. Esto se hizo para marcar esta función como un constructor. Se entenderá qué es un constructor en el <a href="06_object.html#constructors">Capítulo 6</a>. Por ahora, lo importante es no preocuparse por esta aparente falta de consistencia.</p>

<h2><a class="h_ident" id="h-/OBuIOX390" href="#h-/OBuIOX390" tabindex="-1" role="presentation"></a>Comentarios</h2>

<p><a class="p_ident" id="p-0/Ms9AYRwI" href="#p-0/Ms9AYRwI" tabindex="-1" role="presentation"></a>A menudo, el código sin formato no transmite toda la información que deseas que un programa transmita a los lectores humanos, o la transmite de una manera tan críptica que las personas podrían no entenderla. En otras ocasiones, simplemente querrás incluir algunos pensamientos relacionados como parte de tu programa. Para eso sirven los <em>comentarios</em>.</p>

<p><a class="p_ident" id="p-c5N0ebF2ts" href="#p-c5N0ebF2ts" tabindex="-1" role="presentation"></a>Un comentario es un fragmento de texto que forma parte de un programa pero es totalmente ignorado por la computadora. JavaScript tiene dos formas de escribir comentarios. Para escribir un comentario de una sola línea, puedes usar dos barras inclinadas (<code>//</code>) y luego el texto del comentario:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-/8e+JeWltg" href="#c-/8e+JeWltg" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">saldoCuenta</span> = calcularSaldo(cuenta);
<span class="tok-comment">// Es un hueco verde donde canta un río</span>
saldoCuenta.ajustar();
<span class="tok-comment">// Capturando locamente jirones blancos en la hierba.</span>
<span class="tok-keyword">let</span> <span class="tok-definition">informe</span> = <span class="tok-keyword">new</span> Informe();
<span class="tok-comment">// Donde resuena el sol en la montaña orgullosa:</span>
agregarAlInforme(saldoCuenta, informe);
<span class="tok-comment">// Es un pequeño valle, espumoso como luz en un vaso.</span></pre>

<p><a class="p_ident" id="p-UD6DcJKN/S" href="#p-UD6DcJKN/S" tabindex="-1" role="presentation"></a>Un comentario con <code>//</code> se extiende solo hasta el final de la línea. Una sección de texto entre <code>/*</code> y <code>*/</code> será ignorada en su totalidad, independientemente de si contiene saltos de línea. Esto es útil para agregar bloques de información sobre un archivo o un trozo de programa:</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-YIpKcFFP1r" href="#c-YIpKcFFP1r" tabindex="-1" role="presentation"></a><span class="tok-comment">/*</span>
<span class="tok-comment">  Encontré este número por primera vez garabateado en la parte trasera de un viejo</span>
<span class="tok-comment">  cuaderno. Desde entonces, a menudo ha aparecido, mostrándose en</span>
<span class="tok-comment">  números de teléfono y los números de serie de productos que he</span>
<span class="tok-comment">  comprado. Obviamente le caigo bien, así que he decidido quedármelo.</span>
<span class="tok-comment">*/</span>
<span class="tok-keyword">const</span> <span class="tok-definition">miNumero</span> = <span class="tok-number">11213</span>;</pre><h2><a class="h_ident" id="h-ErccPg/l98" href="#h-ErccPg/l98" tabindex="-1" role="presentation"></a>Resumen</h2>

<p><a class="p_ident" id="p-qenTzu+nvg" href="#p-qenTzu+nvg" tabindex="-1" role="presentation"></a>Ahora sabes que un programa está construido a partir de declaraciones, las cuales a veces contienen más declaraciones. Las declaraciones tienden a contener expresiones, las cuales a su vez pueden estar construidas a partir de expresiones más pequeñas.</p>

<p><a class="p_ident" id="p-FCR357cFyh" href="#p-FCR357cFyh" tabindex="-1" role="presentation"></a>Colocar declaraciones una tras otra te da un programa que se ejecuta de arriba hacia abajo. Puedes introducir alteraciones en el flujo de control utilizando declaraciones condicionales (<code>if</code>, <code>else</code> y <code>switch</code>) y de bucle (<code>while</code>, <code>do</code> y <code>for</code>).</p>

<p><a class="p_ident" id="p-eHusD1GvV0" href="#p-eHusD1GvV0" tabindex="-1" role="presentation"></a>Los enlaces pueden utilizarse para almacenar fragmentos de datos bajo un nombre, y son útiles para rastrear el estado en tu programa. El entorno es el conjunto de enlaces que están definidos. Los sistemas de JavaScript siempre colocan un número de enlaces estándar útiles en tu entorno.</p>

<p><a class="p_ident" id="p-zgNEy0za9M" href="#p-zgNEy0za9M" tabindex="-1" role="presentation"></a>Las funciones son valores especiales que encapsulan un fragmento de programa. Puedes invocarlas escribiendo <code>nombreFuncion(argumento1, argumento2)</code>. Tal llamada a una función es una expresión y puede producir un valor.</p>

<h2><a class="h_ident" id="h-TcUD2vzyMe" href="#h-TcUD2vzyMe" tabindex="-1" role="presentation"></a>Ejercicios</h2>

<p><a class="p_ident" id="p-7mMmxEJ9P/" href="#p-7mMmxEJ9P/" tabindex="-1" role="presentation"></a>Si no estás seguro de cómo probar tus soluciones a los ejercicios, consulta la <a href="00_intro.html">Introducción</a>.</p>

<p><a class="p_ident" id="p-VR0+805/R0" href="#p-VR0+805/R0" tabindex="-1" role="presentation"></a>Cada ejercicio comienza con una descripción del problema. Lee esta descripción e intenta resolver el ejercicio. Si tienes problemas, considera leer las pistas después del ejercicio. Puedes encontrar soluciones completas a los ejercicios en línea en <a href="https://eloquentjavascript.net/code#2"><em>https://eloquentjavascript.net/code</em></a>. Si deseas aprender algo de los ejercicios, te recomiendo mirar las soluciones solo después de haber resuelto el ejercicio, o al menos después de haberlo intentado lo suficiente como para tener un ligero dolor de cabeza.</p>

<h3><a class="i_ident" id="i-umoXp9u0e7" href="#i-umoXp9u0e7" tabindex="-1" role="presentation"></a>Haciendo un triángulo con bucles</h3>

<p><a class="p_ident" id="p-pP646YLlGy" href="#p-pP646YLlGy" tabindex="-1" role="presentation"></a>Escribe un bucle que haga siete llamadas a <code>console.log</code> para mostrar el siguiente triángulo:</p>

<pre class="snippet" data-language="null"><a class="c_ident" id="c-iAdOqXrnTq" href="#c-iAdOqXrnTq" tabindex="-1" role="presentation"></a>#
##
###
####
#####
######
#######</pre><p><a class="p_ident" id="p-wqeRZnDHMu" href="#p-wqeRZnDHMu" tabindex="-1" role="presentation"></a>Puede ser útil saber que puedes encontrar la longitud de una cadena escribiendo <code>.length</code> después de ella.</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-qHvXAGuPvV" href="#c-qHvXAGuPvV" tabindex="-1" role="presentation"></a><span class="tok-keyword">let</span> <span class="tok-definition">abc</span> = <span class="tok-string">"abc"</span>;
console.log(abc.length);
<span class="tok-comment">// → 3</span></pre>

<p><a class="p_ident" id="p-hzLkQ7lBb5" href="#p-hzLkQ7lBb5" tabindex="-1" role="presentation"></a>La mayoría de los ejercicios contienen un fragmento de código que puedes modificar para resolver el ejercicio. Recuerda que puedes hacer clic en los bloques de código para editarlos.</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-HRKSrZS1tJ" href="#c-HRKSrZS1tJ" tabindex="-1" role="presentation"></a><span class="tok-comment">// Tu código aquí.</span></pre>

<details class="solution"><summary>Mostrar pistas...</summary><div class="solution-text">

<p><a class="p_ident" id="p-4G9czVhC4S" href="#p-4G9czVhC4S" tabindex="-1" role="presentation"></a>Puedes comenzar con un programa que imprima los números del 1 al 7, el cual puedes derivar haciendo algunas modificaciones al <a href="02_program_structure.html#loops">ejemplo de impresión de números pares</a> dado anteriormente en el capítulo, donde se introdujo el bucle <code>for</code>.</p>

<p><a class="p_ident" id="p-Cfhk1uLlnS" href="#p-Cfhk1uLlnS" tabindex="-1" role="presentation"></a>Ahora considera la equivalencia entre números y cadenas de caracteres de almohadillas. Puedes ir de 1 a 2 agregando 1 (<code>+= 1</code>). Puedes ir de <code>"#"</code> a <code>"##"</code> agregando un carácter (<code>+= "#"</code>). Por lo tanto, tu solución puede seguir de cerca el programa de impresión de números.</p>

</div></details>

<h3><a class="i_ident" id="i-rebKE3gdjV" href="#i-rebKE3gdjV" tabindex="-1" role="presentation"></a>FizzBuzz</h3>

<p><a class="p_ident" id="p-rwAdlrRyQP" href="#p-rwAdlrRyQP" tabindex="-1" role="presentation"></a>Escribe un programa que use <code>console.log</code> para imprimir todos los números del 1 al 100, con dos excepciones. Para los números divisibles por 3, imprime <code>"Fizz"</code> en lugar del número, y para los números divisibles por 5 (y no por 3), imprime <code>"Buzz"</code> en su lugar.</p>

<p><a class="p_ident" id="p-fJ/4Bt0n0A" href="#p-fJ/4Bt0n0A" tabindex="-1" role="presentation"></a>Cuando tengas eso funcionando, modifica tu programa para imprimir <code>"FizzBuzz"</code> para los números que son divisibles por ambos 3 y 5 (y todavía imprime <code>"Fizz"</code> o <code>"Buzz"</code> para los números divisibles solo por uno de esos).</p>

<p><a class="p_ident" id="p-ka7uWqFA4z" href="#p-ka7uWqFA4z" tabindex="-1" role="presentation"></a>(En realidad, esta es una pregunta de entrevista que se ha afirmado que elimina a un porcentaje significativo de candidatos a programadores. Entonces, si lo resolviste, ¡tu valor en el mercado laboral acaba de aumentar!)</p><pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-HRKSrZS1tJ_1" href="#c-HRKSrZS1tJ_1" tabindex="-1" role="presentation"></a><span class="tok-comment">// Tu código aquí.</span></pre>

<details class="solution"><summary>Mostrar pistas...</summary><div class="solution-text">

<p><a class="p_ident" id="p-eChcRqNQtZ" href="#p-eChcRqNQtZ" tabindex="-1" role="presentation"></a>Recorrer los números claramente es una tarea de bucle, y seleccionar qué imprimir es cuestión de ejecución condicional. Recuerda el truco de usar el operador resto (<code>%</code>) para comprobar si un número es divisible por otro número (tiene un resto de cero).</p>

<p><a class="p_ident" id="p-rCF2gb77FE" href="#p-rCF2gb77FE" tabindex="-1" role="presentation"></a>En la primera versión, hay tres posibles resultados para cada número, así que tendrás que crear una cadena de <code>if</code>/<code>else if</code>/<code>else</code>.</p>

<p><a class="p_ident" id="p-Oma/sCzEw+" href="#p-Oma/sCzEw+" tabindex="-1" role="presentation"></a>La segunda versión del programa tiene una solución directa y una inteligente. La solución simple es agregar otra "rama" condicional para probar precisamente la condición dada. Para la solución inteligente, construye una cadena que contenga la palabra o palabras a imprimir y muestra esta palabra o el número si no hay palabra, potencialmente haciendo un buen uso del operador <code>||</code>.</p>

</div></details>

<h3><a class="i_ident" id="i-swb9JBtSQQ" href="#i-swb9JBtSQQ" tabindex="-1" role="presentation"></a>Tablero de ajedrez</h3>

<p><a class="p_ident" id="p-gweYm2Shqx" href="#p-gweYm2Shqx" tabindex="-1" role="presentation"></a>Escribe un programa que cree una cadena que represente una cuadrícula de 8×8, utilizando caracteres de nueva línea para separar las líneas. En cada posición de la cuadrícula hay espacio o un carácter "#". Los caracteres deberían formar un tablero de ajedrez.</p>

<p><a class="p_ident" id="p-9kgrie1A2f" href="#p-9kgrie1A2f" tabindex="-1" role="presentation"></a>Al pasar esta cadena a <code>console.log</code> debería mostrar algo como esto:</p>

<pre class="snippet" data-language="null"><a class="c_ident" id="c-7yVx5TrcJ/" href="#c-7yVx5TrcJ/" tabindex="-1" role="presentation"></a> # # # #
# # # # 
 # # # #
# # # # 
 # # # #
# # # # 
 # # # #
# # # #</pre>

<p><a class="p_ident" id="p-8n1E0bRGiW" href="#p-8n1E0bRGiW" tabindex="-1" role="presentation"></a>Cuando tengas un programa que genere este patrón, define una variable <code>size = 8</code> y cambia el programa para que funcione para cualquier <code>size</code>, mostrando una cuadrícula del ancho y alto dados.</p>

<pre tabindex="0" class="snippet" data-language="javascript"><a class="c_ident" id="c-HRKSrZS1tJ_2" href="#c-HRKSrZS1tJ_2" tabindex="-1" role="presentation"></a><span class="tok-comment">// Tu código aquí.</span></pre>

<details class="solution"><summary>Mostrar pistas...</summary><div class="solution-text">

<p><a class="p_ident" id="p-4RO84Y6SdY" href="#p-4RO84Y6SdY" tabindex="-1" role="presentation"></a>Puedes construir la cadena empezando con una vacía (<code>""</code>) y agregando repetidamente caracteres. Un carácter de nueva línea se escribe como <code>"\n"</code>.</p><p><a class="p_ident" id="p-8UZmClB+c6" href="#p-8UZmClB+c6" tabindex="-1" role="presentation"></a>Para trabajar con dos dimensiones, necesitarás un bucle dentro de otro bucle. Pon llaves alrededor de los cuerpos de ambos bucles para que sea fácil ver dónde comienzan y terminan. Intenta indentar correctamente estos cuerpos. El orden de los bucles debe seguir el orden en el que construimos la cadena (línea por línea, de izquierda a derecha, de arriba abajo). Por lo tanto, el bucle externo maneja las líneas, y el bucle interno maneja los caracteres en una línea.</p>

<p><a class="p_ident" id="p-hVwpRGFzkm" href="#p-hVwpRGFzkm" tabindex="-1" role="presentation"></a>Necesitarás dos variables para seguir tu progreso. Para saber si poner un espacio o un signo de almohadilla en una posición dada, podrías probar si la suma de los dos contadores es par (<code>% 2</code>).</p>

<p><a class="p_ident" id="p-9FaUCRZviB" href="#p-9FaUCRZviB" tabindex="-1" role="presentation"></a>Terminar una línea agregando un carácter de nueva línea debe ocurrir después de que la línea haya sido construida, así que haz esto después del bucle interno pero dentro del bucle externo.</p>

</div></details><nav><a href="01_values.html" title="capítulo anterior" aria-label="capítulo anterior">◂</a>&nbsp;<a href="index.html" title="portada" aria-label="portada">●</a>&nbsp;<a href="03_functions.html" title="capítulo siguiente" aria-label="capítulo siguiente">▸</a>&nbsp;<button class="help" title="ayuda" aria-label="ayuda"><strong>?</strong></button>
</nav>
</article>

<script src="js/ejs.js"></script>
</body></html>